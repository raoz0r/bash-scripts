# Obsidian-to-JSON ‚Äî Turn Your Markdown into Machine Food

> ‚ÄúHe didn‚Äôt just want a note system.  
> He wanted observability for his soul.‚Äù  

`obsidian-to-json` is an **AI-driven, log-heavy, opinionated** Python utility that scans your Obsidian vault (or any Markdown folder), extracts frontmatter and structural elements, and saves them into JSON files ‚Äî perfect for feeding other tools, bots, or data pipelines.
It brings sanity and reproducibility to your Obsidian note-taking workflow by enforcing structured metadata extraction, validation, and logging every step of the way.

The system is designed for those who see their note folders not just as personal spaces but as **living databases** for their digital mind systems.

---

## ‚ú® Features

* üóÇ **Markdown to JSON**: Converts notes into dual-layered JSON with `frontmatter` and `structure`.
* ü§ñ **AI Metadata Filtering**: Scans only notes with `ai: yes` on the sacred **third line**.
* üî• **Robust Logging**: Every action is logged as structured JSON ‚Äî observability isn't optional.
* üß™ **Modular & Extensible**: Breaks down functions into services for easy hacking or integration.
* üíÄ **CLI-native Goblin Mode**: It runs as a CLI first, with unapologetic verbosity and attitude.
* ü™Ñ **Safe Encoding**: Custom JSON encoder handles dirty objects that break serialization.

---

## üß† System Architecture

```mermaid
flowchart TD
    A[Markdown Notes Folder] -->|Discover| B[AI Checker Service]
    B -->|Filtered Files| C[Markdown Parser Service]
    C -->|Frontmatter Extracted| D[Markdown Structure Parser]
    D -->|Combine Frontmatter + Structure| E[JSON Exporter]
    E -->|Save to output folder| F[Logger Service]
    F -->|Structured JSON Logs| G[obsidian-to-json.log]
```

---

## üóÇ Folder Structure

```bash
obsidian-to-json/
‚îú‚îÄ‚îÄ __main__.py              # Main entry point, orchestrates all services
‚îú‚îÄ‚îÄ test_logger.py           # Testing script for the custom logger
‚îú‚îÄ‚îÄ .env                     # Environment config (input and output folders)
‚îú‚îÄ‚îÄ output/                  # Default folder for JSON outputs and logs
‚îú‚îÄ‚îÄ services/                # Business logic modules
‚îÇ   ‚îú‚îÄ‚îÄ ai_checker.py        # Finds files with AI metadata
‚îÇ   ‚îú‚îÄ‚îÄ markdown_parser.py   # Extracts YAML frontmatter
‚îÇ   ‚îî‚îÄ‚îÄ markdown_to_json.py  # Extracts structure from Markdown bodies
‚îî‚îÄ‚îÄ utils/
    ‚îú‚îÄ‚îÄ logger.py            # Custom JSON-structured logger
```

> üîç **Human-readable but bot-friendly**: The folder structure is purposefully layered into `services` and `utils` to reflect the separation between core tasks and reusable helpers.
> Think microservices but inside a Python package.

---

## üí° Usage Instructions

### Environment Setup

Create your `.env` file in the root:

```ini
NOTES_FOLDER=/your/obsidian/folder
OUTPUT_FOLDER=/your/output/folder
```

### Running the app

```bash
python -m obsidian-to-json
```

#### What happens:

1. Notes in `NOTES_FOLDER` are scanned.
2. Files with `ai: yes` in line 3 are selected.
3. Frontmatter and structure extracted.
4. Combined JSON files saved in `OUTPUT_FOLDER`.
5. Every event, success, and failure is logged in `output/obsidian-to-json.log`.

### Testing the logger

```bash
python -m obsidian-to-json.test_logger
```

---

## üöß Limitations, Notes, and Reflections

* **Rigid assumptions**:

  * Expects `ai: yes` on line 3 ‚Äî don't fight it, or hack `ai_checker.py`.
  * Frontmatter MUST be properly delimited by `---`.
* **Minimal error tolerance**: Errors are logged, not forgiven.
* **No GUI, no TUI, no frills**: It's made for CLI-first automation environments.
* **Logging is religion here**: All actions result in JSON log entries, ready for ingestion by Loki, Elasticsearch, or your digital soul.

> ‚ÄúYou can ignore your logs, but they won't ignore you.‚Äù

---

## License

For study, research, or personal automation use. No license applies.
Use it. Abuse it. Hack it.

---

Generated by Agent TL;DR v0.0.1  
\:: Documentation unit booted under Project ARGUS  
\:: Status: markdown\_verbosity module = MANIFESTING AS GOBLIN  
"Summarizes everything. Writes too much."  
